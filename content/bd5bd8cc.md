---
date: 2020-12-09T21:23
---

# Kakoune の使い方

使い方は Vim に似ている。基本的なコマンドはデフォルトモードで `:` を打ってから入力する。

例えば、行数を入れるためには `:add-highlighter global/ number-lines` を打つ。

コマンドの入力を試してみると、とても懐かし顔が現れます! Kakoune はクリッパーを標準搭載しています!

Office だったら早速に停止したいが、 Kakoune には本当に役に立ってぜひ使いたい 笑

操作は Vim 同様のコマンドが多い。

移動は `h`, `j`, `k`, `l` を使う(矢印も可)。

入力モードは `i` を打つ。モードから出るは `Esc` キーを使う。

Vim と一緒じゃん! と思ったら大違いです。大きな違いはコマンドのための文字列。

そこで、 Kakoune は多分英語圏の人よりも日本語を喋る人のためにやさしい。

Vim は英語の文法をフォローして打つもの。単語を削除するためには `d` + `w` を打ちます(**d**elete **w**ord)。
まず動詞を書いてから名詞をかく。

Kakoune は日本語の文法と同じで、まずは名詞を書いて動詞を書く。
つまり、上記の Vim コマンドを Kakoune で書こうとしたら、 `w` + `d` と書く。

この文法のよさは、アクションを実行する前にアクションを起こす範囲が選択されて、
可視化的に範囲が合っているかどうかを確認できる。

その他、 Vim のちょっと不思議なコマンドがわかりやすくなる。

例えば、 Vim で do/undo は `u` と `Ctrl` + `r`。理由があると思うが、同じ系のコマンドなのに全然違うキーはちょっと不思議だと思わない?

Kakoune の do/undo は `u` と `U` (`Shift` + `u`)。

移動は `g` を使います (goto)。ファイルの最初に移動するは `gg` で、最後は `ge` (**g**o to **e**nd)。

特定なラインへ移動するのは番号 + `g` (ライン5へ行くために `5g` と入力)。
なお、現在位置からラインまで全部セレクト死体場合は大文字を使う (`5G`)。

検索は `/`。検索中に `n` と `Alt` + `n` で次の結果、前の結果へ移動。

コマンドの結果を Kakoune に出力するために、 `|` を入力して下のプロンプトにターミナルのコマンドを打てる。
パイプの代わりに `!` を使うと、現在位置ではなくて新規ラインを追加して結果を出力する (ようするにニューラインも出力する)。


## セレクトモード

Kakoune は何よりも選択を重視しているテキストエディタ。

コードのどちらかにいて、 `]` を入力する。すると、クリッパーが表示され、オブジェクト選択のキーを教えてくれる。
`w` や `p` で **w**ord と **p**aragraph を選択することができる[^1]。

なお、上記で以降の文字を選択するが、以前の文字を選択するためには、 `]` の代わりに `[` を使う。

置換をするために、まずは `%` を入力して全ファイルを選択し、 `s` を入力することで「すべて検索」ができる。

置換したい単語を入力して `Enter` を押下。これで削除したり、リネームしたりすることができる。

よくあるキーストロークを参照するためにまとめた。

[[[kakoune-keystroke-idioms]]]


[^1]: 日本語の場合は残念ながら単語を認識しない
