<!DOCTYPE html><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><meta content="width=device-width, initial-scale=1" name="viewport" /><!--replace-start-0--><!--replace-start-5--><!--replace-start-8--><title>Transmission Control Protocol (TCP) - エキソブレイン</title><!--replace-end-8--><!--replace-end-5--><!--replace-end-0--><link href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.min.css" rel="stylesheet" /><link href="https://fonts.googleapis.com/css?family=Merriweather|Libre+Franklin|Roboto+Mono&amp;display=swap" rel="stylesheet" /><!--replace-start-1--><!--replace-start-4--><!--replace-start-7--><link href="static/favicon.png" rel="icon" /><link href="static/apple-touch-icon.png" rel="apple-touch-icon" /><meta content="CyberFlamingo" name="author" /><meta content="Transmission Control Protocol (TCP) is a protocol of transmission geared toward reliability. It is defined in RFC793." name="description" /><link href="https://zettel.cyberflamingo.net/transmission-control-protocol" rel="canonical" /><meta content="Transmission Control Protocol (TCP)" property="og:title" /><meta content="エキソブレイン" property="og:site_name" /><meta content="article" property="og:type" /><meta content="transmission-control-protocol" property="neuron:zettel-id" /><meta content="transmission-control-protocol" property="neuron:zettel-slug" /><script type="application/ld+json">[{"@context":"https://schema.org","itemListElement":[{"name":"外付け脳 (exobrain)","item":"https://zettel.cyberflamingo.net","@type":"ListItem","position":1},{"name":"Computing","item":"https://zettel.cyberflamingo.net/cecb6a47","@type":"ListItem","position":2},{"name":"Network","item":"https://zettel.cyberflamingo.net/d88c4570","@type":"ListItem","position":3},{"name":"Networking Foundations","item":"https://zettel.cyberflamingo.net/networking-foundations","@type":"ListItem","position":4}],"@type":"BreadcrumbList"},{"@context":"https://schema.org","itemListElement":[{"name":"Networking Models","item":"https://zettel.cyberflamingo.net/networking-models","@type":"ListItem","position":1},{"name":"Transport Layer","item":"https://zettel.cyberflamingo.net/transport-layer","@type":"ListItem","position":2}],"@type":"BreadcrumbList"}]</script><style type="text/css">body{background-color:#eeeeee !important;font-family:"Libre Franklin", serif !important}body .ui.container{font-family:"Libre Franklin", serif !important}body h1, h2, h3, h4, h5, h6, .ui.header, .headerFont{font-family:"Merriweather", sans-serif !important}body code, pre, tt, .monoFont{font-family:"Roboto Mono","SFMono-Regular","Menlo","Monaco","Consolas","Liberation Mono","Courier New", monospace !important}body div.z-index p.info{color:#808080}body div.z-index ul{list-style-type:square;padding-left:1.5em}body div.z-index .uplinks{margin-left:0.29999em}body .zettel-content h1#title-h1{background-color:rgba(100,53,201,0.1)}body nav.bottomPane{background-color:rgba(100,53,201,2.0e-2)}body div#footnotes{border-top-color:#6435c9}body p{line-height:150%}body img{max-width:100%}body .deemphasized{font-size:0.94999em}body .deemphasized:hover{opacity:1}body .deemphasized:not(:hover){opacity:0.69999}body .deemphasized:not(:hover) a{color:#808080 !important}body div.container.universe{padding-top:1em}body div.zettel-view ul{padding-left:1.5em;list-style-type:square}body div.zettel-view .pandoc .highlight{background-color:#ffff00}body div.zettel-view .pandoc .ui.disabled.fitted.checkbox{margin-right:0.29999em;vertical-align:middle}body div.zettel-view .zettel-content .metadata{margin-top:1em}body div.zettel-view .zettel-content .metadata div.date{text-align:center;color:#808080}body div.zettel-view .zettel-content h1{padding-top:0.2em;padding-bottom:0.2em;text-align:center}body div.zettel-view .zettel-content h2{border-bottom:solid 1px #4682b4;margin-bottom:0.5em}body div.zettel-view .zettel-content h3{margin:0px 0px 0.4em 0px}body div.zettel-view .zettel-content h4{opacity:0.8}body div.zettel-view .zettel-content div#footnotes{margin-top:4em;border-top-style:groove;border-top-width:2px;font-size:0.9em}body div.zettel-view .zettel-content div#footnotes ol > li > p:only-of-type{display:inline;margin-right:0.5em}body div.zettel-view .zettel-content aside.footnote-inline{width:30%;padding-left:15px;margin-left:15px;float:right;background-color:#d3d3d3}body div.zettel-view .zettel-content .overflows{overflow:auto}body div.zettel-view .zettel-content code{margin:auto auto auto auto;font-size:100%}body div.zettel-view .zettel-content p code, li code, ol code{padding:0.2em 0.2em 0.2em 0.2em;background-color:#f5f2f0}body div.zettel-view .zettel-content pre{overflow:auto}body div.zettel-view .zettel-content dl dt{font-weight:bold}body div.zettel-view .zettel-content blockquote{background-color:#f9f9f9;border-left:solid 10px #cccccc;margin:1.5em 0px 1.5em 0px;padding:0.5em 10px 0.5em 10px}body div.zettel-view .zettel-content.raw{background-color:#dddddd}body .ui.label.zettel-tag{color:#000000}body .ui.label.zettel-tag a{color:#000000}body nav.bottomPane ul.backlinks > li{padding-bottom:0.4em;list-style-type:disc}body nav.bottomPane ul.context-list > li{list-style-type:lower-roman}body .footer-version img{-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);filter:grayscale(100%)}body .footer-version img:hover{-webkit-filter:grayscale(0%);-moz-filter:grayscale(0%);-ms-filter:grayscale(0%);-o-filter:grayscale(0%);filter:grayscale(0%)}body .footer-version, .footer-version a, .footer-version a:visited{color:#808080}body .footer-version a{font-weight:bold}body .footer-version{margin-top:1em !important;font-size:0.69999em}@media only screen and (max-width: 768px){body div#zettel-container{margin-left:0.4em !important;margin-right:0.4em !important}}body span.zettel-link-container span.zettel-link a{color:#6435c9;font-weight:bold;text-decoration:none}body span.zettel-link-container span.zettel-link a:hover{background-color:rgba(100,53,201,0.1)}body span.zettel-link-container span.extra{color:auto}body span.zettel-link-container.errors{border:solid 1px #ff0000}body span.zettel-link-container.errors span.zettel-link a:hover{text-decoration:none !important;cursor:not-allowed}body [data-tooltip]:after{font-size:0.69999em}body div.tag-tree div.node{font-weight:bold}body div.tag-tree div.node a.inactive{color:#555555}body .tree.flipped{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);-o-transform:rotate(180deg);transform:rotate(180deg)}body .tree{overflow:auto}body .tree ul.root{padding-top:0px;margin-top:0px}body .tree ul{position:relative;padding:1em 0px 0px 0px;white-space:nowrap;margin:0px auto 0px auto;text-align:center}body .tree ul::after{content:"";display:table;clear:both}body .tree ul:last-child{padding-bottom:0.1em}body .tree li{display:inline-block;vertical-align:top;text-align:center;list-style-type:none;position:relative;padding:1em 0.5em 0em 0.5em}body .tree li::before{content:"";position:absolute;top:0px;right:50%;border-top:solid 2px #cccccc;width:50%;height:1.19999em}body .tree li::after{content:"";position:absolute;top:0px;right:50%;border-top:solid 2px #cccccc;width:50%;height:1.19999em}body .tree li::after{right:auto;left:50%;border-left:solid 2px #cccccc}body .tree li:only-child{padding-top:0em}body .tree li:only-child::after{display:none}body .tree li:only-child::before{display:none}body .tree li:first-child::before{border-style:none;border-width:0px}body .tree li:first-child::after{border-radius:5px 0px 0px 0px}body .tree li:last-child::after{border-style:none;border-width:0px}body .tree li:last-child::before{border-right:solid 2px #cccccc;border-radius:0px 5px 0px 0px}body .tree ul ul::before{content:"";position:absolute;top:0px;left:50%;border-left:solid 2px #cccccc;width:0px;height:1.19999em}body .tree li div.forest-link{border:solid 2px #cccccc;padding:0.2em 0.29999em 0.2em 0.29999em;text-decoration:none;display:inline-block;border-radius:5px 5px 5px 5px;color:#333333;position:relative;top:2px}body .tree.flipped li div.forest-link{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);-o-transform:rotate(180deg);transform:rotate(180deg)}</style><script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism.min.css" rel="stylesheet" /><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/plugins/autoloader/prism-autoloader.min.js"></script><!--replace-end-7--><!--replace-end-4--><!--replace-end-1--></head><body><div class="ui fluid container universe"><!--replace-start-2--><!--replace-start-3--><!--replace-start-6--><nav class="flipped tree deemphasized" id="zettel-uptree" style="transform-origin: 50%"><ul class="root"><li><ul><li><div class="forest-link"><span class="zettel-link-container"><span class="zettel-link" title="2021-09-10T09:51"><a href="transport-layer">Transport Layer</a></span></span></div><ul><li><div class="forest-link"><span class="zettel-link-container"><span class="zettel-link" title="2021-08-31T08:33"><a href="networking-models">Networking Models</a></span></span></div></li></ul></li><li><div class="forest-link"><span class="zettel-link-container"><span class="zettel-link" title="2021-08-30T14:26"><a href="networking-foundations">Networking Foundations</a></span></span></div><ul><li><div class="forest-link"><span class="zettel-link-container"><span class="zettel-link" title="2020-08-02"><a href="d88c4570">Network</a></span></span></div><ul><li><div class="forest-link"><span class="zettel-link-container"><span class="zettel-link" title="2020-08-02"><a href="cecb6a47">Computing</a></span></span></div><ul><li><div class="forest-link"><span class="zettel-link-container"><span class="zettel-link"><a href=".">外付け脳 (exobrain)</a></span></span></div></li></ul></li></ul></li></ul></li></ul></li></ul></nav><div class="ui text container" id="zettel-container" style="position: relative"><div class="zettel-view"><article class="ui raised attached segment zettel-content"><div class="pandoc"><h1 id="title-h1">Transmission Control Protocol (TCP)</h1><p>Transmission Control Protocol (TCP) is a protocol of transmission geared toward reliability. It is defined in <a href="https://www.ietf.org/rfc/rfc793.txt">RFC793</a>.</p><p>TCP offers reliability to a communication system that is inherently <em>not</em> reliable.</p><p>TCP <strong>must</strong> recover damaged, lost or un-ordered data.</p><p>This reliability makes TCP a great choice for many networked applications. However this reliability comes at a price: both in performance and complexity.</p><p>Data encapsulation and multiplexing is possible using…</p><h2 id="tcp-segments">TCP Segments</h2><p>TCP Segments are the Protocol Data Unit (PDU) of TCP: Segment Header and Segment Payload. In the Segment Header, the Source Port and Destination Port permit multiplexing.</p><h2 id="tcp-connections">TCP Connections</h2><p>TCP is a <strong>connection-oriented protocol</strong>. It won’t start sending application data until a connection has been established between application processes.</p><p>In order to establish a connection, TCP uses a <strong>Three-way Handshake</strong>:</p><pre><code class="txt language-txt">                                 Sender  Receiver
          Sender send SYN Segments |\      |
                                   | \     |
                                   |  \SYN |
                                   |   \   |
                                   |    \  |
                                   |     \ |
                                   |      \| Receiver receives SYN Segment,
                                   |      /| Responds with SYN ACK Segment
                                   | SYN / |
                                   | ACK/  |
                                   |   /   |
                                   |  /    |
                                   | /     |
Receiver receives SYN ACK Segment, |/      |
         Responds with ACK Segment |\      |
                                   | \     |
                                   |  \ACK |
                                   |   \   |
                                   |    \  |
                                   |     \ |
                                   |      \| Receiver receives ACK Segment,
                                   |       | Connection is established!
                                   |       |
                                   |       |</code></pre><p>In order:</p><ul><li>Sender sends a <strong>SYN</strong> message (a TCP Segment with the <code>SYN</code> flag set to <code>1</code>)</li><li>Upon receiving the SYN message, Receiver sends back a SYN ACK message (a TCP Segment with the <code>SYN</code> and <code>ACK</code> flags set to <code>1</code>)</li><li>Upon receiving the SYN ACK, the sender then sends an ACK message (a TCP Segment with the <code>ACK</code> flag set to <code>1</code>)</li></ul><p>Sender can start sending application data right after sending the ACK message, but Receiver needs to receive the ACK before sending anything back. One reason is to be able to synchronise <code>SYN</code> sequence numbers used during the connection.</p><div class="ui message info"><p>There is also a <code>FIN</code> flag used in the <strong>Four-way Handshake</strong>. It signals the termination of the connection.</p></div><p>See also <a href="https://en.wikipedia.org/wiki/Two_Generals&#39;_Problem">Two Generals’ Problem</a> and this <a href="https://youtu.be/IP-rGJKSZ3s">YouTube video</a> for more an easy explaination.</p></div><div class="metadata"><div class="date" title="Zettel date"><time datetime="2021-09-13T21:00">2021-09-13</time></div></div></article><nav class="ui attached segment deemphasized backlinksPane" id="neuron-backlinks-pane"><h3 class="ui header">Backlinks</h3><ul class="backlinks"><li><span class="zettel-link-container cf"><span class="zettel-link" title="2021-09-14T08:43"><a href="user-datagram-protocol">User Datagram Protocol (UDP)</a></span></span><ul class="context-list" style="zoom: 85%;"><li class="item"><div class="pandoc"><p>Contrary to <span class="zettel-link-container folge"><span class="zettel-link" title="2021-09-13T21:00"><a href="transmission-control-protocol">Transmission Control Protocol (TCP)</a><span data-nosnippet="" style="user-select: none; color: gray" title="Folgezettel">#</span></span></span>, User Datagram Protocol (UDP) doesn’t have a mechanism to reliably transfer data through sequencing and retransmission of lost data and flow control/congestion avoidance.</p></div></li></ul></li><li><span class="zettel-link-container cf"><span class="zettel-link" title="2020-09-15T23:20"><a href="3c3ba5a9">Study Guide for Test</a></span></span><ul class="context-list" style="zoom: 85%;"><li class="item"><div class="pandoc"><span class="zettel-link-container folge"><span class="zettel-link" title="2021-09-13T21:00"><a href="transmission-control-protocol">Transmission Control Protocol (TCP)</a><span data-nosnippet="" style="user-select: none; color: gray" title="Folgezettel">#</span></span></span></div></li></ul></li></ul><h3 class="ui header"><span title="Backlinks from folgezettel parents">Uplinks</span></h3><ul class="backlinks"><li><span class="zettel-link-container folge"><span class="zettel-link" title="2021-09-10T09:51"><a href="transport-layer">Transport Layer</a><span data-nosnippet="" style="user-select: none; color: gray" title="Folgezettel">#</span></span></span><ul class="context-list" style="zoom: 85%;"><li class="item"><div class="pandoc"><span class="zettel-link-container folge"><span class="zettel-link" title="2021-09-13T21:00"><a href="transmission-control-protocol">Transmission Control Protocol (TCP)</a><span data-nosnippet="" style="user-select: none; color: gray" title="Folgezettel">#</span></span></span></div></li></ul></li><li><span class="zettel-link-container folge"><span class="zettel-link" title="2021-08-30T14:26"><a href="networking-foundations">Networking Foundations</a><span data-nosnippet="" style="user-select: none; color: gray" title="Folgezettel">#</span></span></span><ul class="context-list" style="zoom: 85%;"><li class="item"><div class="pandoc"><p>We should have a general mental models that is good enough to understand higher levels of abtraction protocols, such as <span class="zettel-link-container folge"><span class="zettel-link" title="2021-09-13T21:00"><a href="transmission-control-protocol">Transmission Control Protocol (TCP)</a><span data-nosnippet="" style="user-select: none; color: gray" title="Folgezettel">#</span></span></span> and <span class="zettel-link-container folge"><span class="zettel-link" title="2021-09-15T08:58"><a href="http-protocol">HyperText Transfer Protocol (HTTP)</a><span data-nosnippet="" style="user-select: none; color: gray" title="Folgezettel">#</span></span></span>.</p></div></li></ul></li></ul></nav><nav class="ui bottom attached icon compact inverted menu violet" id="neuron-nav-bar"><!--replace-start-9--><a class="item" href="." title="Home"><i class="home icon"></i></a><!--replace-end-9--><a class="item" href="https://github.com/cyberflamingo/exobrain/edit/master/./transmission-control-protocol.md" title="Edit this page"><i class="edit icon"></i></a><a class="right item" href="impulse" title="Open Impulse"><i class="wave square icon"></i></a></nav></div></div><!--replace-end-6--><!--replace-end-3--><!--replace-end-2--><div class="ui center aligned container footer-version"><div class="ui tiny image"><a href="https://neuron.zettel.page"><img alt="logo" src="https://raw.githubusercontent.com/srid/neuron/master/assets/neuron.svg" title="Generated by Neuron 1.9.35.3" /></a></div></div></div></body></html>